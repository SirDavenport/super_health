<div class="container-fluid">
  <div class="row text-center">
    <h1>Edit User</h1>
    <h3 *ngIf="error != null" style="color: red;">{{ error }}</h3>
  </div>
  <div class="row" *ngIf="userForm != null">
    <div class="col-xs-6 col-xs-offset-3">
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="userName">Name</label>
          <input class="form-control" type="text" formControlName="userName" />
        </div>
        <div class="form-group">
          <label for="title">Title</label>
          <input class="form-control" type="text" formControlName="title" />
        </div>
        <div class="form-group">
          <label for="email">Name</label>
          <input class="form-control" type="text" formControlName="email" />
        </div>
        <div *ngIf="editingSelf" class="form-group">
          <label for="password">Password</label>
          <input class="form-control" type="text" formControlName="password" />
        </div>
        <div *ngIf="!editingSelf">
          <label for="">Roles</label>
          <div formArrayName="roles">
            <div *ngFor="let role of getControls(); let i = index" class="row">
              <div class="col-xs-8">
                <input
                  class="form-control"
                  type="text"
                  formControlName="{{ i }}"
                />
              </div>
              <div class="col-xs-2">
                <button
                  class="btn"
                  type="button"
                  style="color: red;"
                  (click)="onDeleteRole(i)"
                >
                  X
                </button>
              </div>
            </div>
          </div>
          <button type="button" (click)="onAddRole()" class="btn btn-primary">
            Add Role
          </button>
        </div>

        <div class="row text-center">
          <div class="col-xs-12">
            <button
              [disabled]="userForm.invalid"
              class="btn btn-primary"
              type="submit"
            >
              Update
            </button>
            <button routerLink="../" class="btn btn-warning" type="button">
              Cancel
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
